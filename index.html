<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <style>
    .container-fluid {
      padding-right: 0;
      padding-left: 0;
      margin-right: auto;
      margin-left: auto
    }

    .flow-img {
      width: 30px;
    }

    .hidden {
      display: none;
    }

    #screen-view, #output-view{
      width: 95%;
    }

    #screen-thumbs div.card {
      max-width: 150px;
    }
    #output-thumbs div.card {
      max-width: 150px;
    }

  </style>

  <title>Pixel Mapulator</title>
</head>

<body>
  <div class="container-fluid">

    <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <div class="col">
        <div class="row">
          <a class="navbar-brand" href="#">Pixel Mapulator</a>


          <form class="form-inline my-2 my-lg-0">
            <input class="form-control form-control-sm mr-sm-2 user-input" id="project-name" name="project_name" type="text" placeholder="project name" value="Project Name" aria-label="project name">
            <div class="input-group input-group-sm mr-3">
              <div class="input-group-prepend">
                <span class="input-group-text" id="screen-width-label">width</span>
              </div>
              <input type="text" class="form-control user-input" value="16" placeholder="width" name="screen_width" aria-label="width" aria-describedby="screen-width" id="screen-width">
            </div>
            <div class="input-group input-group-sm mr-3">
              <div class="input-group-prepend">
                <span class="input-group-text" id="screen-height-label">height</span>
              </div>
              <input type="text" class="form-control user-input" value="9" placeholder="height" name="screen_height" aria-label="height" aria-describedby="screen-height" id="screen-height">
            </div>

            <div class="form-check form-check-inline">
              <input class="form-check-input user-input" type="radio" name="dims" id="dims-px" value="0" checked="true">
              <label class="form-check-label" for="dims-tiles">tiles</label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input user-input" type="radio" name="dims" id="dims-ft" value="1" disabled="true">
              <label class="form-check-label" for="dims-ft">ft</label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input " type="radio" name="dims" id="dims-m" value="2" disabled="true">
              <label class="form-check-label" for="dimsm">m</label>
            </div>



          <button class="btn btn-sm btn-success my-2 my-sm-0" id="add-screen" onclick="projects[active_project].add_screen(user_inputs.screen_width,user_inputs.screen_height);">add LED screen</button>
          </form>
        </div><!-- row -->
        <div class="row justify-content-center">
          <form class="form-inline my-2 my-lg-0">

        <div class="input-group input-group-sm mr-3">
          <div class="input-group-prepend">
            <span class="input-group-text" id="file-name-label">file name</span>
          </div>
          <input type="text" class="form-control" id="file-name" value="Canvas" placeholder="file name" aria-label="file name" aria-describedby="file-name">
          </div>
          <button class="btn btn-sm btn-primary my-2 my-sm-0 mr-3" type="button" name="download-png-button" id="download-screen-button" onclick="download_canvas('screen-view',document.getElementById('file-name').value);">download screen-view</button>
          <button class="btn btn-sm btn-secondary my-2 my-sm-0 mr-3" type="button" name="download-png-button" id="download-outputs-button" onclick="download_all_output_canvases(document.getElementById('file-name').value);">download output-view</button>
          <button class="btn btn-sm btn-warning my-2 my-sm-0 mr-3" type="button" name="download-png-button" id="download-processors-button" onclick="download_all_processor_canvases(document.getElementById('file-name').value);">download processor-view</button>
          <button class="btn btn-sm btn-info my-2 my-sm-0 mr-3" type="button" name="download-json-button" id="download-json-button" onclick="downloadObjectAsJson(projects[active_project],document.getElementById('project-name').value+'_data');">Download JSON</button>
        </form>


      </div><!--row-->
        </div>


    </nav>


    <ul class="nav nav-tabs" id="options-tab" role="tablist">
      <li class="nav-item">
        <a class="nav-link active" id="screen-tab" data-toggle="tab" href="#screen" role="tab" aria-controls="screen" aria-selected="true">Screen View</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" id="output-tab" data-toggle="tab" href="#output" role="tab" aria-controls="output" aria-selected="false">Output View</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" id="about-tab" data-toggle="tab" href="#about" role="tab" aria-controls="about" aria-selected="true">Help / About</a>
      </li>


    </ul>
    <div class="tab-content" id="options-content">
      <div class="tab-pane fade show active" id="screen" role="tabpanel" aria-labelledby="screen-tab">
        <!-- column / canvas split inside tab pane fade -->
        <div class="row">
          <!-- left column -->
          <div class="col-4">
            <div class="card">
              <div id="screen-options" class="show">

                  <!-- screen options start -->

                    <!-- begin of card -->
                    <div class="card-body">
                      <!-- tile type -->
                      <h5 class="card-title">Tile Type</h5>
                      <select class="custom-select custom-select-sm mb-3 user-input" name="tile_type" id="tile-type">
                      </select>
                      <div class="form-row">
                        <div class="col">
                          <div class="input-group input-group-sm mb-3">
                            <div class="input-group-prepend">
                              <span class="input-group-text" >Brand</span>
                            </div>
                            <input type="text" class="form-control user-input" id="tile-brand-name" name="tile_brand_name" placeholder="Brand Name" aria-label="Brand Name" aria-describedby="brand-name" readonly>
                          </div>


                          <div class="input-group input-group-sm mb-3">
                            <div class="input-group-prepend">
                              <span class="input-group-text">Pixels Wide</span>
                            </div>
                            <input type="number" class="form-control user-input" id="tile-pixels-wide" name="tile_pixels_wide" placeholder="Pixels Wide" aria-label="Pixels Wide" aria-describedby="pixels-wide" readonly>
                          </div>
                          <div class="input-group input-group-sm mb-3">
                            <div class="input-group-prepend">
                              <span class="input-group-text" >Pixels High</span>
                            </div>
                            <input type="number" class="form-control user-input" id="tile-pixels-high" name="tile_pixels_high" placeholder="Pixels High" aria-label="Pixels High" aria-describedby="pixels-high" readonly>
                          </div>
                        </div>
                        <div class="col">
                          <div class="input-group input-group-sm mb-3">
                            <div class="input-group-prepend">
                              <span class="input-group-text">Model</span>
                            </div>
                            <input type="text" class="form-control user-input" id="tile-model-name" name="tile_model_name" placeholder="Model Name" aria-label="Model Name" aria-describedby="model-name" readonly>
                          </div>

                          <div class="input-group input-group-sm mb-3">
                            <div class="input-group-prepend">
                              <span class="input-group-text">Physical Width</span>
                            </div>
                            <input type="number" class="form-control user-input" id="tile-physical-width" name="tile_physical_width" placeholder="Physical width" aria-label="Physical Width" aria-describedby="physical-width" readonly>
                          </div>
                          <div class="input-group input-group-sm mb-3">
                            <div class="input-group-prepend">
                              <span class="input-group-text">Physical Height</span>
                            </div>
                            <input type="number" class="form-control user-input" id="tile-physical-height" name="tile_physical_height" placeholder="Physical Height" aria-label="Physical Height" aria-describedby="physical-height" readonly>
                          </div>
                        </div>
                      </div>

                      <!-- tile options -->
                      <p class="card-text">Tile Color Scheme</p>
                      <!-- tile color scheme -->
                      <select class="custom-select custom-select-sm mb-3 user-input" name="tile_color_option" id="tile-color-scheme">
                        <option value="0" selected>User Defined by Screen</option>
                        <option value="1">User by Port</option>
                        <option value="2">Rainbow</option>
                        <option value="3">Resistor Gradient by Port</option>
                        <option value="4">Two Color Gradient</option>
                        <option value="5">50%/100% Red</option>
                        <option value="6">50%/100% Green</option>
                        <option value="7">50%/100% Blue</option>
                        <option value="8">50%/100% White</option>
                        <option value="9">Resistor by Port</option>
                      </select>

                      <!-- user defined color set 1-->
                      <div class="input-group input-group-sm mb-3">
                        <div class="input-group-prepend">
                          <span class="input-group-text" id="color-set-1">Color Set 1</span>
                        </div>
                        <input type="color" name="user_color_1" class="form-control user-input" id="user-color-1" value="#D8544F" aria-label="User Color 1" aria-describedby="user-color-1">
                        <input type="color" name="user_color_2" class="form-control user-input" id="user-color-2" value="#448CCA" aria-label="User Color 2" aria-describedby="user-color-2">
                        <input type="color" name="user_color_3" class="form-control user-input" id="user-color-3" value="#60D394" aria-label="User Color 3" aria-describedby="user-color-3">
                        <input type="color" name="user_color_4" class="form-control user-input" id="user-color-4" value="#FFD97D" aria-label="User Color 4" aria-describedby="user-color-4">
                      </div>
                      <div class="input-group input-group-sm mb-3">
                        <div class="input-group-prepend">
                          <span class="input-group-text" id="color-set-2">Color Set 2</span>
                        </div>
                        <input type="color" name="user_color_5" class="form-control user-input" id="user-color-5" value="#ADA8B6" aria-label="User Color 5" aria-describedby="user-color-5">
                        <input type="color" name="user_color_6" class="form-control user-input" id="user-color-6" value="#DE6B48" aria-label="User Color 6" aria-describedby="user-color-6">
                        <input type="color" name="user_color_7" class="form-control user-input" id="user-color-7" value="#9AADBF" aria-label="User Color 7" aria-describedby="user-color-7">
                        <input type="color" name="user_color_8" class="form-control user-input" id="user-color-8" value="#C6878F" aria-label="User Color 8" aria-describedby="user-color-8">
                      </div>

                      <!-- tile color by string/port/screen -->
                      <div class="form-row hidden">
                        <div class="col">
                      <div class="form-check form-check-inline">
                        <input class="form-check-input user-input" type="radio" name="tile_color_iterator" id="tile-color-by-screen" value="0" checked>
                        <label class="form-check-label" for="tile-color-by-screen">Tile Color by Screen Index</label>
                      </div>
                      <div class="form-check form-check-inline">
                        <input class="form-check-input user-input" type="radio" name="tile_color_iterator" id="tile-color-by-port" value="1">
                        <label class="form-check-label" for="tile-color-by-processor">Tile Color By Port</label>
                      </div>
                    </div>
                    <div class="col">
                      <div class="form-check form-check-inline">
                        <input class="form-check-input user-input" type="radio" name="tile_color_iterator" id="tile-color-screen" value="2">
                        <label class="form-check-label" for="tile-color-screen">Tile Color by Port Index</label>
                      </div>
                      <div class="form-check form-check-inline">
                        <input class="form-check-input user-input" type="radio" name="tile_color_iterator" id="tile-color-even-odd" value="3">
                        <label class="form-check-label" for="tile-color-even-odd">Tile Color by Even/Odd Tile</label>
                      </div>
                    </div>
                    </div><!-- form-row -->

                      <h6 class="card-title">Screen Options</h6>
                      <!-- screen name -->
                      <div class="input-group input-group-sm mb-3">
                        <div class="input-group-prepend">
                          <span class="input-group-text">Screen Name</span>
                        </div>
                        <input type="text" class="form-control user-input" id="screen-name" name="screen_name" placeholder="Screen Name" aria-label="Screen Name" aria-describedby="screen-name">
                      </div>
                      <h6 class="card-title">Data Signal Flow</h6>
                      <div class="row">
                        <div class="col">
                      <div class="form-row mb-3">
                        <div class="form-check form-check-inline">
                          <input class="form-check-input user-input" type="radio" name="data_flow" id="flow-0" value="0" checked="true">
                          <label class="form-check-label" for="dims-px"><img src="img/tlr.png" class="flow-img"></label>
                        </div>
                        <div class="form-check form-check-inline">
                          <input class="form-check-input user-input" type="radio" name="data_flow" id="flow-1" value="1">
                          <label class="form-check-label" for="dims-ft"><img src="img/tld.png" class="flow-img"></label>
                        </div>
                        <div class="form-check form-check-inline">
                          <input class="form-check-input user-input" type="radio" name="data_flow" id="flow-3" value="3">
                          <label class="form-check-label" for="dimsm"><img src="img/blu.png" class="flow-img"></label>
                        </div>
                        <div class="form-check form-check-inline">
                          <input class="form-check-input user-input" type="radio" name="data_flow" id="flow-2" value="2">
                          <img src="img/blr.png" class="flow-img"></label>
                        </div>
                      </div>
                      <div class="form-row mb-3">
                        <div class="form-check form-check-inline">
                          <input class="form-check-input user-input" type="radio" name="data_flow" id="flow-6" value="6">
                          <label class="form-check-label" for="dims-ft"><img src="img/dtl.png" class="flow-img"></label>
                        </div>
                        <div class="form-check form-check-inline">
                          <input class="form-check-input user-input" type="radio" name="data_flow" id="flow-4" value="4">
                          <label class="form-check-label" for="dimsm"><img src="img/dtld.png" class="flow-img"></label>
                        </div>
                        <div class="form-check form-check-inline">
                          <input class="form-check-input user-input" type="radio" name="data_flow" id="flow-7" value="7">
                          <label class="form-check-label" for="dims-px"><img src="img/dbl.png" class="flow-img"></label>
                        </div>
                        <div class="form-check form-check-inline">
                          <input class="form-check-input user-input" type="radio" name="data_flow" id="flow-5" value="5">
                          <label class="form-check-label" for="dims-ft"><img src="img/dblu.png" class="flow-img"></label>
                        </div>
                      </div><!-- end of data flow -->
                    </div> <!-- col -->
                    <div class="col">
                      <div class="form-check mb-3">
                        <input class="form-check-input user-input" type="checkbox" value="" name="show_data_flow" id="show-data-flow" checked>
                        <label class="form-check-label" for="show-data-flow">
                          Show Data Flow
                        </label>
                      </div>
                      <div class="form-check mb-3">
                        <input class="form-check-input user-input" type="checkbox" value="" name="fit_port_strings_to_screen" id="fit-port-strings">
                        <label class="form-check-label" for="fit-port-strings">
                          Fit Port Strings to Screen
                        </label>
                      </div>

                      <div class="form-check mb-3">
                        <input class="form-check-input user-input" type="checkbox" value="" name="show_data_icon" id="show-string-icon" checked>
                        <label class="form-check-label" for="show-string-icon">
                          Data String Icon
                        </label>
                      </div>
                      </div> <!-- col -->
                    </div><!-- row -->


                      <!-- string breakup style -->
                      <div class="form-check form-check-inline">
                        <input class="form-check-input user-input" type="radio" name="string_break_option" id="string-by-port" value="0" checked>
                        <label class="form-check-label" for="string-by-port">Seperate String by Port</label>
                      </div>
                      <div class="form-check form-check-inline">
                        <input class="form-check-input user-input" type="radio" name="string_break_option" id="string-by-screen" value="1">
                        <label class="form-check-label" for="string-by-screen">Seperate String by Screen</label>
                      </div>


                      <!-- string color scheme -->
                      <select class="custom-select custom-select-sm mb-3 user-input" name="string_color_option" id="string-color-scheme">
                        <option selected value="0">User Defined</option>
                        <option value="1">Resistor</option>
                        <option value="2">Rainbow</option>
                      </select>

                      <!-- string color style -->
                      <div class="btn-group btn-group-sm btn-group-toggle mb-3 hidden" data-toggle="buttons">
                        <label class="btn btn-secondary active">
                          <input type="radio" name="string_color_iterator" class="user-input" id="string-color-by-port" autocomplete="off" value="0" checked="true"> String Color by Port
                        </label>
                        <label class="btn btn-secondary">
                          <input type="radio" name="string_color_iterator" class="user-input" id="string-color-by-screen" autocomplete="off" value="1"> String Color by Screen
                        </label>
                        <label class="btn btn-secondary">
                          <input type="radio" name="string_color_iterator" class="user-input" id="string-color-custom" autocomplete="off" value="2"> Custom String Color
                        </label>
                      </div>

                      <!-- custom string color -->
                      <div class="input-group input-group-sm mb-3">
                        <div class="input-group-prepend">
                          <span class="input-group-text">String Color</span>
                        </div>
                        <input type="color" name="string_color" class="form-control user-input" id="string-color" value="#FFFFFF" aria-label="String Color" aria-describedby="string-color">
                      </div>

                      <h5 class="card-title">Tile Indexing Options</h5>
                      <!-- index options-->
                      <div class="form-check form-check-inline">
                        <input class="form-check-input user-input" type="radio" name="tile_index_option" id="index-by-port" value="0" checked>
                        <label class="form-check-label" for="index-by-port">Tile Index by Port</label>
                      </div>
                      <div class="form-check form-check-inline">
                        <input class="form-check-input user-input" type="radio" name="tile_index_option" id="index-by-screen" value="1">
                        <label class="form-check-label" for="index-by-screen">Tile Index by Screen</label>
                      </div>
                      <div class="form-check form-check-inline">
                        <input class="form-check-input user-input" type="radio" name="tile_index_option" id="index-by-project" value="2">
                        <label class="form-check-label" for="index-by-project">Tile Index by Project</label>
                      </div>
                      <div class="form-check form-check-inline">
                        <input class="form-check-input user-input" type="radio" name="tile_index_option" id="index-by-coordinate" value="3">
                        <label class="form-check-label" for="index-by-coordinate">Tile Index by Coordinate (X,Y)</label>
                      </div>

                      <!-- coord style -->
                      <p class="card-text">Coordinate Style</p>
                      <select class="custom-select custom-select-sm mb-3 user-input" name="coord_style" id="coord-style">
                        <option value="0" selected>1,A</option>
                        <option value="1">A,1</option>
                        <option value="2">1,1</option>
                        <option value="3">A,A</option>
                      </select>


                      <!-- index color scheme -->
                      <select class="custom-select custom-select-sm mb-3 user-input" name="tile_index_color_option" id="index-color-scheme">
                        <option value="1">User Defined</option>
                        <option value="2">Resistor</option>
                        <option value="3">Rainbow</option>
                        <option value="4">50%/100% Red</option>
                        <option value="5">50%/100% Green</option>
                        <option value="6">50%/100% Blue</option>
                        <option value="7">50%/100% White</option>
                      </select>
                      <!-- index color by string/port/screen -->
                      <div class="btn-group btn-group-sm btn-group-toggle mb-3 hidden" data-toggle="buttons">
                        <label class="btn btn-secondary active">
                          <input type="radio" class="user-input" name="tile_index_color_iterator" id="index-color-by-string" autocomplete="off" value="0" checked="true"> Index Color by String
                        </label>
                        <label class="btn btn-secondary">
                          <input type="radio" class="user-input" name="tile_index_color_iterator" id="index-color-by-processor" autocomplete="off" value="1"> Index Color by Processor
                        </label>
                        <label class="btn btn-secondary">
                          <input type="radio" class="user-input" name="tile_index_color_iterator" id="index-color-screen" autocomplete="off" value="2"> Index Color By Screen
                        </label>
                        <label class="btn btn-secondary">
                          <input type="radio" class="user-input" name="tile_index_color_iterator" id="custom-index-color" autocomplete="off" value="3"> Custom Index Color
                        </label>
                      </div>

                      <!-- custom index color -->
                      <div class="input-group input-group-sm mb-3">
                        <div class="input-group-prepend">
                          <span class="input-group-text" id="index-color">Index Color</span>
                        </div>
                        <input type="color" name="tile_index_color" class="form-control user-input" id="tile-index-color" value="#FFFFFF" aria-label="Index Color" aria-describedby="index-color">
                      </div>
                      <!-- offsets -->
                      <div class="input-group input-group-sm mb-3 hidden">
                        <div class="input-group-prepend">
                          <span class="input-group-text" id="offset-x">Offset X</span>
                        </div>
                        <input type="number" class="form-control user-input" name="offset_x" placeholder="Offset X" aria-label="Offset X" aria-describedby="offset-x">
                      </div>
                      <div class="input-group input-group-sm mb-3 hidden">
                        <div class="input-group-prepend">
                          <span class="input-group-text" id="offset-y">Offset Y</span>
                        </div>
                        <input type="number" class="form-control user-input" name="offset_y" placeholder="Offset Y" aria-label="Offset Y" aria-describedby="offset-y">
                      </div>

                    </div>
                  </div> <!-- end of card -->

                  <!-- Border and overlay Options -->
                  <div class="card">
                    <div class="card-body">
                      <h5 class="card-title">Border Options</h5>

                      <p class="card-text">Tile Border</p>
                      <!-- tile border -->
                      <div class="input-group mb-3">
                        <div class="input-group-prepend">
                          <div class="input-group-text">
                            <input type="checkbox" class="user-input" name="tile_border" id="tile-border" aria-label="Checkbox for following text input">
                          </div>
                        </div>
                        <input type="color" name="tile_border_color" class="form-control user-input" id="tile-border-color" value="#FFFFFF" aria-label="Tile Border Color" aria-describedby="tile-border-color">
                        <input type="number" name="tile_border_width" class="form-control user-input" id="tile-border-width" placeholder="Tile border width" aria-label="Text input with checkbox">
                      </div>
                      <p class="card-text">Processor Border</p>
                      <!-- processor border -->
                      <div class="input-group mb-3">
                        <div class="input-group-prepend">
                          <div class="input-group-text">
                            <input type="checkbox" class="user-input" name="processor_border" id="processor-border" aria-label="Checkbox for following text input">
                          </div>
                        </div>
                        <input type="color" name="processor_border_color" class="form-control user-input" id="processor-border-color" value="#FFFFFF" aria-label="Processor Border Color" aria-describedby="processor-border-color">
                        <input type="number" class="form-control user-input" name="processor_border_width" id="processor-border-width" placeholder="Processor border width" aria-label="Text input with checkbox">
                      </div>
                      <p class="card-text">Screen Border</p>
                      <!-- screen border -->
                      <div class="input-group mb-3">
                        <div class="input-group-prepend">
                          <div class="input-group-text">
                            <input type="checkbox" class="user-input" name="screen_border" id="screen-border" aria-label="Checkbox for following text input">
                          </div>
                        </div>
                        <input type="color" name="screen_border_color" class="form-control user-input" id="screen-border-color" value="#FFFFFF" aria-label="Screen Border Color" aria-describedby="screen-border-color">
                        <input type="number" class="form-control user-input" name="screen_border_width" id="screen-border-width" placeholder="Screen border width" aria-label="Text input with checkbox">
                      </div>

                      <div class="row">
                        <div class="col">
                      <h6 class="card-title">Overlay Options</h6>
                      <div class="form-check mb-3">
                        <input class="form-check-input user-input" type="checkbox" name="show_processor_label" value="false" id="show-processor-label">
                        <label class="form-check-label" for="show-processor-label">
                          Show Processor Label
                        </label>
                      </div>
                      <div class="form-check mb-3">
                        <input class="form-check-input user-input" type="checkbox" name="show_screen_label" value="" id="show-screen-label">
                        <label class="form-check-label" for="show-screen-label">
                          Show Screen Label
                        </label>
                      </div>
                      <div class="form-check mb-3">
                        <input class="form-check-input user-input" type="checkbox" name="show_stats" value="" id="show-screen-stats">
                        <label class="form-check-label" for="show-screen-stats">
                          Show Screen Statistics
                        </label>
                      </div>
                    </div><!-- col -->
                    <div class="col">
                      <h6 class="card-title">Test Pattern Options</h6>
                      <div class="form-check mb-3">
                        <input class="form-check-input user-input" name="every_other_pixel" type="checkbox" value="" id="every-other-pixel">
                        <label class="form-check-label" for="every-other-pixel">
                          Every Other Pixel Off
                        </label>
                      </div>
                      <div class="form-check mb-3">
                        <input class="form-check-input user-input" name="draw_cross" type="checkbox" value="" id="draw-cross">
                        <label class="form-check-label" for="draw-cross">
                          Draw Cross
                        </label>
                      </div>
                      <div class="form-check mb-3">
                        <input class="form-check-input user-input" name="draw_circle" type="checkbox" value="" id="draw-circle">
                        <label class="form-check-label" for="draw-circle">
                          Draw Circle
                        </label>
                      </div>
                      <!-- circle / cross color -->
                      <div class="input-group mb-3">
                        <div class="input-group-prepend">
                          <div class="input-group-text">
                            Circle / Cross Color
                          </div>
                        </div>
                        <input type="color" name="test_pattern_color" class="form-control user-input" id="test-pattern-color" value="#FFFFFF" aria-label="Screen Border Color" aria-describedby="screen-border-color">
                        <input type="number" class="form-control user-input" name="test_pattern_width" id="test-pattern-width" placeholder="Cross/color line width" aria-label="Text input with checkbox">
                      </div>
                    </div>
                  </div>
                      <!-- show custom logo -->
                      <div class="form-check mb-3">
                        <input class="form-check-input user-input" name="show_logo" type="checkbox" value="" id="show-logo">
                        <label class="form-check-label" for="show-logo">
                          Show Custom Logo
                        </label>
                      </div>
                      <!-- upload logo -->
                      <div class="input-group mb-3">
                        <div class="input-group-prepend">
                          <span class="input-group-text" id="custom-logo">Upload Custom Logo</span>
                        </div>
                        <div class="custom-file">
                          <input type="file" class="custom-file-input user-input" id="logo-upload" aria-describedby="logo-upload">
                          <label class="custom-file-label" for="logo-upload">Choose file</label>
                        </div>
                      </div>

                    </div>
                  </div> <!-- end of card -->


                </div>

          </div><!-- col-4 -->
          <div class="col-8">
            <!-- thumbnails here -->
            <div class="card-body">
              <div class="card-deck" id="screen-thumbs">

              </div>
            </div>


            <!-- screen-view -->
            <div class="card">
              <div class="card-body">
                <canvas id="screen-view">
                  Your browser doesn't support canvas. :(
                </canvas>
              </div>
            </div>
          </div>
        </div><!-- row -->
      </div>
      <div class="tab-pane fade" id="output" role="tabpanel" aria-labelledby="output-tab">
        <!-- column / canvas split inside tab pane fade -->
        <div class="row">
          <!-- left column -->
          <div class="col-4">
            <!-- output options -->
            <div class="card">
              <div id="output-options">
                <div class="card-body">
                  <h5 class="card-title">Output Stuff</h5>
                  <div class="form-check mb-3">
                    <input class="form-check-input user-input" type="checkbox" value="" name="balance_processor_loads" id="balance-processor-load">
                    <label class="form-check-label" for="balance-processor-load">
                      Balance Processor Loads
                    </label>
                  </div>
                  <div class="form-check mb-3">
                    <input class="form-check-input user-input" name="draw_offsets" type="checkbox" value="" id="draw-offsets">
                    <label class="form-check-label" for="draw-offsets">
                      Draw Offset Coords in Output Views
                    </label>
                  </div>
                  <div class="row mb-3">
                    <div class="col">
                      <button type="button" class="btn btn-secondary btn-sm" id="fullscreen-mode">Full Screen Mode</button>
                      <button type="button" class="btn btn-secondary btn-sm " id="rainbow-faster">Rainbow Faster</button>
                    </div>
                  </div>
                  <select class="custom-select custom-select-sm mb-3 user-input" name="processor_sort_style" id="processor-sort-style">
                    <option selected>Processor Sort Style</option>
                    <option value="1">maxwidth</option>
                    <option value="2">maxheight</option>
                    <option value="3">area</option>
                    <option value="4">maxside</option>
                  </select>
                </div>
              </div>
            </div>
            <div class="card">
              <div class="card-body">
                <h5 class="card-title">Processor Type</h5>
                <p class="card-text">Choose a processor type</p>
                <select class="custom-select custom-select-sm mb-3 user-input" name="processor_type" id="processor-type">

                </select>
                <div class="form-row">
                  <div class="col">
                    <div class="input-group input-group-sm mb-3">
                      <div class="input-group-prepend">
                        <span class="input-group-text">Brand</span>
                      </div>
                      <input type="text" class="form-control user-input" id="processor-brand-name" name="processor_brand_name" placeholder="Brand Name" aria-label="Brand Name" aria-describedby="basic-addon1" readonly>
                    </div>

                    <div class="input-group input-group-sm mb-3">
                      <div class="input-group-prepend">
                        <span class="input-group-text">Width Limit</span>
                      </div>
                      <input type="number" class="form-control user-input" id="processor-width-limit" name="processor_width_limit" placeholder="Width Limit" aria-label="Width Limit" aria-describedby="basic-addon1" readonly>
                    </div>
                    <div class="input-group input-group-sm mb-3">
                      <div class="input-group-prepend">
                        <span class="input-group-text">Height Limit</span>
                      </div>
                      <input type="number" class="form-control user-input" id="processor-height-limit" name="processor_height_limit" placeholder="Height Limit" aria-label="Height Limit" aria-describedby="basic-addon1" readonly>
                    </div>
                  </div>
                  <div class="col">
                    <div class="input-group input-group-sm mb-3">
                      <div class="input-group-prepend">
                        <span class="input-group-text">Model</span>
                      </div>
                      <input type="text" class="form-control user-input" id="processor-model-name" name="processor_model" placeholder="Model Name" aria-label="Model Name" aria-describedby="basic-addon1" readonly>
                    </div>

                    <div class="input-group input-group-sm mb-3">
                      <div class="input-group-prepend">
                        <span class="input-group-text">Pixel Limit</span>
                      </div>
                      <input type="number" class="form-control user-input" id="processor-pixel-limit" name="processor_pixel_limit" placeholder="Pixel per port limit" aria-label="Pixel Limit" aria-describedby="basic-addon1" readonly>
                    </div>
                    <div class="input-group input-group-sm mb-3">
                      <div class="input-group-prepend">
                        <span class="input-group-text">Port Limit</span>
                      </div>
                      <input type="number" class="form-control user-input" id="processor-port-limit" name="process_port_limit" placeholder="Ports per processor" aria-label="Port Limit" aria-describedby="basic-addon1" readonly>
                    </div>
                  </div><!-- col -->
                </div><!-- form row -->
                <h5 class="card-title">Availble Output Sizes</h5>
                <p class="card-text">Output options dictated by processor selection.</p>
                <select class="custom-select custom-select-sm mb-3 user-input" name="output_type" id="output-type">

                </select>
                <div class="input-group input-group-sm mb-3 hidden">
                  <div class="input-group-prepend">
                    <span class="input-group-text" id="output-width">Width</span>
                  </div>
                  <input type="number" class="form-control user-input" name="output_width" placeholder="Pixels wide" aria-label="Width" aria-describedby="output-width">
                </div>
                <div class="input-group input-group-sm mb-3 hidden">
                  <div class="input-group-prepend">
                    <span class="input-group-text" id="output-height">Height</span>
                  </div>
                  <input type="number" class="form-control user-input" name="output_height" placeholder="Pixels high" aria-label="Height" aria-describedby="output-height">
                </div>
              </div>
            </div>
          </div> <!-- col-4 -->
          <div class="col-8">
            <!-- output thumbs -->
              <div class="card-body">
                <div class="card-deck" id="output-thumbs">
                  Output thumbs...
                </div>
              </div>


            <!-- output-view -->
            <div class="card">

              <div class="card-body">
                <canvas id="output-view">
                  Your browser doesn't support canvas. :(
                </canvas>
              </div>
            </div>
          </div><!-- col -->
        </div><!-- row -->







        <!-- end of container -->
      </div>
      <div class="tab-pane fade" id="about" role="tabpanel" aria-labelledby="about-tab">
        <div class="card">
          <div class="card-body">
            Pixel Mapulator - Beta. Thanks for checking out the beta. Please send feedback to <a href="mailto:blinkingthings@gmail.com">blinkingthings@gmail.com</a>.
            <hr>
            <div class="card-group">
              <div class="card">
                <img src="img/project_layout.png" class="card-img-top" alt="...">
                <div class="card-body">
                  <h5 class="card-title">Project Structure</h5>
                  <p class="card-text">Projects are made up of Screens, Processors and Outputs. Processors are arrnaged in different ways within screens and outputs. All three types of images can be downloaded using the appropriate download button at the top of the page.</p>
                </div>
              </div>
              <div class="card">
                <img src="img/dirty_port.png" class="card-img-top" alt="...">
                <div class="card-body">
                  <h5 class="card-title">Uneven Port Length</h5>
                  <p class="card-text">Uses maximum ammount of tiles (within processor pixel limit) per port string.</p>
                </div>
              </div>
              <div class="card">
                <img src="img/clean_port.png" class="card-img-top" alt="...">
                <div class="card-body">
                  <h5 class="card-title">Even Port</h5>
                  <p class="card-text">End port strings at last even column/row. Contorlled with "Fit Port Strings to Screen" checkbox on the Screen tab under data signal flow options.</p>
                </div>
              </div>
              <div class="card">
                <img src="img/unbalanced_processors.png" class="card-img-top" alt="...">
                <div class="card-body">
                  <h5 class="card-title">Unbalanced Processors</h5>
                  <p class="card-text">Use the maximum ammount of available output area while remaining within processor limits.</p>
                </div>
              </div>
              <div class="card">
                <img src="img/balanced_processors.png" class="card-img-top" alt="...">
                <div class="card-body">
                  <h5 class="card-title">Balanced Processors</h5>
                  <p class="card-text">Evenly distribute screen area amongst the required processors. Results in processor areas of closer to equal size.</p>
                  <p class="card-text">Activated using the "Balance Processor Loads" checkbox on the output view tab.</p>
                </div>
              </div>
            </div>
            <div id="motd">


              Notes
              <br>
              <ul>
                <li>Projects are structured as follows. Project contain Screens, Outputs and Processors. Processors are determined by screen settings. Processors are arranged differenly depending on screen view vs output view.</li>
                <li>Custom tiles, processors and outputs are turned off at the moment. Please stick to what is in the dropdowns.</li>
                <li>Things are geared towards working for someone with little to no knowledge of an LED system, with increasing levels of complexity available to advanced users if they please. This may make it seem like you don't have as much
                  customization options as in the past.</li>
                <li>The processors in the library have predefined width, height, and pixel limits. These aren't user-editable at the moment</li>
                <li>Outputs are automatically built by grouping processors together efficiently, regardless of what screen a processor belongs to.</li>
                <li>Try adding a few screens, and changing each ones colors to see how they are being broken up into outputs</li>
                <li>Alot of screen wide overlays are broken in the output view. This is being worked on.</li>
                <li>Remove screen button coming shortly</li>
                <li>Offsets are basically diasbled at the moment as all offsets of processors within outputs are calculated automatically</li>
                <li>Try playing with the automatically square off data ports and average processor resolution limit options.</li>
                <li>The JSON file you can download will reveal a much more detailed list of info that can be used and will most likely be implemented one way or another</li>
                <li>I am not a javascript developer but I'm stumbling through this because people find this tool usefull and I enjoy learning. Please get in touch if this tool is useful to you and you're interested in helping develop the project
                  further.</li>
              </ul>
            </div>

          </div>
        </div>
      </div>
    </div>










  </div>

  <!-- storage for offscreen canvas's -->
  <div id="storage" class="hidden">
  </div>
  <!-- Optional JavaScript -->
  <!-- jQuery first, then Popper.js, then Bootstrap JS -->
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
  <script src="js/bootstrap.min.js"></script>
  <script src="js/packer.js"></script>
  <script type="text/javascript">
    //define processor options

    //Tile_Type for tile library
    function Tile_Type(brand, model, pixel_pitch, width, height, physical_width, physical_height, weight, power_draw, stack_limit, hang_limit) {
      this.pixel_pitch = pixel_pitch;
      this.width = width;
      this.height = height;
      this.physical_width = physical_width;
      this.physical_height = physical_height;
      this.weight = weight;
      this.power_draw = power_draw;
      this.stack_limit = stack_limit;
      this.hang_limit = hang_limit;
      this.brand = brand;
      this.model = model;
    }

    //build tile_types
    let tile_types = [];
    tile_types.push(new Tile_Type("Absen", "A3 Pro", 3.9, 128, 128, 500, 500, 12.7, 1, 1, 1));
    tile_types.push(new Tile_Type("Absen", "A 1.9", 1.9, 208, 155, 400, 300, 12.7, 1, 1, 1));
    tile_types.push(new Tile_Type("Absen", "C7", 7.5, 80, 80, 600, 600, 12.7, 1, 1, 1));
    tile_types.push(new Tile_Type("ROE", "RB2.3 (Ruby 2.3)", 2.31, 216, 216, 500, 500, 8.16, 1, 1, 1))
    tile_types.push(new Tile_Type("ROE", "SP1.5 (Sapphire 1.5)", 1.545, 320, 180, 494.4, 278.1, 4.5, 1, 1, 1))
    tile_types.push(new Tile_Type("ROE", "DM2.6 (Diamond 2.6)", 2.6, 192, 192, 500, 500, 5.76, 1, 1, 1))
    tile_types.push(new Tile_Type("ROE", "BP2 (Black Pearl 2)", 2.84, 176, 176, 500, 500, 9.4, 1, 1, 1));
    tile_types.push(new Tile_Type("ROE", "BP3 (Black Pearl 3)", 3.9, 128, 128, 500, 500, 9.4, 1, 1, 1));
    tile_types.push(new Tile_Type("ROE", "BO 2 (Black Onyx 2)", 2.84, 176, 176, 500, 500, 9.4, 1, 1, 1));
    tile_types.push(new Tile_Type("ROE", "BO 3 (Black Onyx 3)", 3.47, 144, 144, 500, 500, 9.4, 1, 1, 1));
    tile_types.push(new Tile_Type("ROE", "BM4 (Black Marble 4)", 4.76, 128, 128, 609.6, 609.6, 22, 1, 1, 1))
    tile_types.push(new Tile_Type("ROE", "BM5 (Black Marble 5)", 5.76, 104, 104, 600, 600, 13.5, 1, 1, 1))
    tile_types.push(new Tile_Type("ROE", "CB3 (Carbon 3)", 3.75, 160, 320, 600, 1200, 12.7, 1, 1, 1));
    tile_types.push(new Tile_Type("ROE", "CB5 (Carbon 5)", 5.76, 104, 208, 600, 1200, 12.7, 1, 1, 1));
    tile_types.push(new Tile_Type("ROE", "CB8 (Carbon 8)", 8.3, 72, 144, 600, 1200, 12.7, 1, 1, 1));
    tile_types.push(new Tile_Type("ROE", "V8S (Vanish V8S)", 8.9, 112, 112, 1000, 1000, 9.3, 1, 1, 1));
    tile_types.push(new Tile_Type("ROE", "BQ3.9 (Black Quartz 3.9)", 3.9, 128, 256, 500, 1000, 16.7, 1, 1, 1));
    tile_types.push(new Tile_Type("ROE", "BQ4.6 (Black Quartz 4.6)", 4.6, 108, 216, 500, 1000, 22, 1, 1, 1));
    tile_types.push(new Tile_Type("ROE", "AB0.9 (Amber 0.9)", 0.93, 640, 360, 600, 337.5, 8.5, 1, 1, 1));
    tile_types.push(new Tile_Type("ROE", "AB1.2 (Amber 1.2)", 1.25, 480, 270, 600, 337.5, 8.5, 1, 1, 1));
    tile_types.push(new Tile_Type("ROE", "AB1.5 (Amber 1.5)", 1.56, 384, 216, 600, 337.5, 8.5, 1, 1, 1));
    tile_types.push(new Tile_Type("ROE", "AB1.8 (Amber 1.8)", 1.87, 320, 180, 600, 337.5, 8.5, 1, 1, 1));
    tile_types.push(new Tile_Type("ROE", "JA2.6 (Jasper 2.6)", 2.60, 192, 192, 500, 500, 7.5, 1, 1, 1));
    tile_types.push(new Tile_Type("ROE", "JA3.9 (Jasper 3.9)", 3.91, 128, 128, 500, 500, 7.5, 1, 1, 1));
    tile_types.push(new Tile_Type("ROE", "JA5.2 (Jasper 5.2)", 5.21, 96, 96, 500, 500, 7.5, 1, 1, 1));
    tile_types.push(new Tile_Type("Uniliumin", "UTILE 3.9", 3.9, 128, 128, 500, 500, 12.7, 1, 1, 1));
    tile_types.push(new Tile_Type("Uniliumin", "Upad III 2.6", 2.6, 192, 192, 500, 500, 12.7, 1, 1, 1));
    tile_types.push(new Tile_Type("Uniliumin", "Upad III 4.8", 4.8, 104, 104, 500, 500, 12.7, 1, 1, 1));
    tile_types.push(new Tile_Type("Infiled", "Floor 5.9", 5.9, 84, 84, 500, 500, 12.7, 1, 1, 1));
    tile_types.push(new Tile_Type("Infiled", "Floor 7.8", 7.8, 64, 64, 500, 500, 12.7, 1, 1, 1));

    //Processor_Type for processor library
    function Processor_Type(brand, model, resolutions, pixel_per_port_limit, port_count, rack_size) {
      this.brand = brand,
        this.model = model,
        this.resolutions = resolutions,
        this.pixel_limit = pixel_per_port_limit,
        this.ports = port_count,
        this.rack_size = rack_size
    }

    //build processor_types
    let processor_types = [];
    processor_types.push(new Processor_Type("User Defined", "User Defined", [
      [1280, 720],
      [1920, 1080],
      [3840, 2160],
      [4096, 2160]
    ], 555555, 8, 4));
    processor_types.push(new Processor_Type("Brompton", "Tessera SX40", [
      [1280, 720],
      [1920, 1080],
      [3840, 2160],
      [4096, 2160]
    ], 350000, 8, 4));
    processor_types.push(new Processor_Type("Brompton", "Tessera M2", [
      [1280, 720],
      [1920, 1080]
    ], 350000, 8, 2));
    processor_types.push(new Processor_Type("ROE", "Evision eV4", [
      [1280, 720],
      [1920, 1080],
      [3840, 2160],
      [4096, 2160]
    ], 650000, 20, 4));
    processor_types.push(new Processor_Type("ROE", "Evision HD102", [
      [1280, 720],
      [1920, 1080]
    ], 650000, 4, 2));
    processor_types.push(new Processor_Type("Novastar", "MCTRL4K", [
      [1280, 720],
      [1920, 1080],
      [3840, 2160],
      [4096, 2160]
    ], 555555, 16, 4));
    processor_types.push(new Processor_Type("Novastar", "NovaPro HD", [
      [1280, 720],
      [1920, 1080]
    ], 555555, 8, 4));

    function Output_Type(width, height) {
      this.width = width;
      this.height = height;
    }

    let output_type = [];

    /*//main project dom variable dafaults
    let $project_name = document.getElementById('project-name');
    let $screen_width = document.getElementById('screen-width');
    let $screen_height = document.getElementById('screen-height');
    let $screen_name = document.getElementById('screen-name');

    let $string_color = document.getElementById('string-color');
    let $index_color = document.getElementById('index-color');
    let $tile_border_color = document.getElementById('tile-border-color');
    let $processor_border_color = document.getElementById('processor-border-color');
    let $screen_border_color = document.getElementById('screen-border-color');
    let $user_color_1 = document.getElementById('user-color-1');
    let $user_color_2 = document.getElementById('user-color-2');
    let $user_color_3 = document.getElementById('user-color-3');
    let $user_color_4 = document.getElementById('user-color-4');
    let $user_color_5 = document.getElementById('user-color-5');
    let $user_color_6 = document.getElementById('user-color-6');
    let $user_color_7 = document.getElementById('user-color-7');
    let $user_color_8 = document.getElementById('user-color-8');


    let user_inputs = {
      "project_name": $project_name.value,
      "screen_width": $screen_width.value, //in tiles
      "screen_height": $screen_height.value, //in tiles
      "processor_type": 0,
      "tile_type": 0,
      "output_type": 0,
      "dims": 0, //0 px, 1 ft, 2 m
      "tile_color_option": 0,
      "tile_color_set_1": [],
      "tile_color_set_2": [],
      "tile_color_iterator": 0,
      "data_flow": 0,
      "balance_processor_loads": false,
      "fit_port_strings_to_screen": false,
      "show_data_icon": false,
      "string_break_option": 0,
      "string_color_option": 0,
      "string_color_iterator": 0,
      "string_color": $string_color.value,
      "tile_index_option": 0,
      "tile_index_color_option": 0,
      "tile_index_color_iterator": 0,
      "tile_index_color": $index_color.value,
      "show_coords": true,
      "coord_style": 0,
      "tile_border": true,
      "tile_border_color": $tile_border_color.value,
      "tile_border_width": 1,
      "processor_border": false,
      "processor_border_color": $processor_border_color.value,
      "processor_border_width": 50,
      "screen_border": false,
      "screen_border_color": $screen_border_color.value,
      "screen_border_width": 10,
      "show_processor_label": false,
      "show_screen_label": false,
      "show_stats": false,
      "every_other_pixel": true,
      "draw_cross": false,
      "draw_circle": false,
      "test_pattern_color": "#FFFFFF",
      "test_pattern_width": 10,
      "show_logo": true,
      "draw_offsets": false,
      "processor_sort_style": 0,
      "tile_brand_name": "",
      "tile_pixels_wide": "",
      "tile_pixels_high": "",
      "tile_model_name": "",
      "tile_physical_width": "",
      "tile_physical_height": "",
      "user_color_1": $user_color_1.value,
      "user_color_2": $user_color_2.value,
      "user_color_3": $user_color_3.value,
      "user_color_4": $user_color_4.value,
      "user_color_5": $user_color_5.value,
      "user_color_6": $user_color_6.value,
      "user_color_7": $user_color_7.value,
      "user_color_8": $user_color_8.value,
      "processor_brand_name": "",
      "processor_model": "",
      "processor_width_limit": "",
      "processor_height_limit": "",
      "processor_pixel_limit": "",
      "processor_port_limit": "",
      "output_width": "",
      "output_height": "",
      //"screen_name": $screen_name.value,
      "offset_x": 0,
      "offset_y": 0
    }*/
    let user_inputs = {}

    //################################################################
    // Building Dropdowns for Processor and Tile Libraries
    //################################################################
    //load each pre-defined processor type to dom
    $.each(processor_types, function(key, value) {
      $('#processor-type')
        .append($("<option></option>")
          .attr("value", key)
          .text(value.brand + " " + value.model));

    });
    //load pre-defined tile types
    $.each(tile_types, function(key, value) {
      $('#tile-type')
        .append($("<option></option>")
          .attr("value", key)
          .text(value.brand + " " + value.model));
    });
    //processor and tile dropdown defaults
    //select a default processor option
    let default_tile_type = 4;
    let default_processor_type = 2;
    $('#processor-type option:eq('+default_processor_type+')').prop('selected', true);
    //select a default tile option
    $('#tile-type option:eq('+(default_tile_type+1)+')').prop('selected', true);
    //manually trigger input change listener

    $('#tile-brand-name').val(tile_types[default_tile_type].brand);
    $('#tile-model-name').val(tile_types[default_tile_type].model);
    $('#tile-pixels-wide').val(tile_types[default_tile_type].width);
    $('#tile-pixels-high').val(tile_types[default_tile_type].height);
    $('#tile-physical-width').val(tile_types[default_tile_type].physical_width);
    $('#tile-physical-height').val(tile_types[default_tile_type].physical_height);



    //################################################################
    // User-Input Event Listener
    //################################################################
    //text
    /*$("#project-name").on('change', function(e) {
      let value = e.target.value;
      user_inputs.project_name = value;
    });
    $("#tile-brand-name").on('change', function(e) {
      let value = e.target.value;
      user_inputs.tile_brand_name = value;
    });
    $("#tile-model-name").on('change', function(e) {
      let value = e.target.value;
      user_inputs.tile_model_name = value;
    });
    $("#processor-brand-name").on('change', function(e) {
      let value = e.target.value;
      user_inputs.processor_brand_name = value;
    });
    $("#processor-model").on('change', function(e) {
      let value = e.target.value;
      user_inputs.processor_model = value;
    });
    $("#screen-name").on('change', function(e) {
      let value = e.target.value;
      user_inputs.screen_name = value;
    });

    //colors
    $("#string-color").on('change', function() {

      user_inputs.string_color = this.value;

    });
    $("#tile-index-color").on('change', function(e) {
      let value = e.target.value;
      user_inputs.tile_index_color = value;
    });
    $("#tile-border-color").on('change', function(e) {
      let value = e.target.value;
      user_inputs.tile_border_color = value;
    });
    $("#processor-border-color").on('change', function(e) {
      let value = e.target.value;
      user_inputs.processor_border_color = value;
    });
    $("#screen-border-color").on('change', function(e) {
      let value = e.target.value;
      user_inputs.screen_border_color = value;
    });
    $("#test-pattern-color").on('change', function(e) {
      let value = e.target.value;
      user_inputs.test_pattern_color = value;
    });
    $("#user-color-1").on('change', function(e) {
      let value = e.target.value;
      user_inputs.user_color_1 = value;
    });
    $("#user-color-2").on('change', function(e) {
      let value = e.target.value;
      user_inputs.user_color_2 = value;
    });
    $("#user-color-3").on('change', function(e) {
      let value = e.target.value;
      user_inputs.user_color_3 = value;
    });
    $("#user-color-4").on('change', function(e) {
      let value = e.target.value;
      user_inputs.user_color_4 = value;
    });
    $("#user-color-5").on('change', function(e) {
      let value = e.target.value;
      user_inputs.user_color_5 = value;
    });
    $("#user-color-6").on('change', function(e) {
      let value = e.target.value;
      user_inputs.user_color_6 = value;
    });
    $("#user-color-7").on('change', function(e) {
      let value = e.target.value;
      user_inputs.user_color_7 = value;
    });
    $("#user-color-8").on('change', function(e) {
      let value = e.target.value;
      user_inputs.user_color_8 = value;
    });

    //numbers
    $("#screen-width").on('change', function(e) {
      let value = e.target.value;
      user_inputs.screen_width = +value;
    });
    $("#screen-height").on('change', function(e) {
      let value = e.target.value;
      user_inputs.screen_height = +value;
    });
    $("#tile-border-width").on('change', function(e) {
      let value = e.target.value;
      user_inputs.tile_border_width = +value;
    });
    $("#processor-border-width").on('change', function(e) {
      let value = e.target.value;
      user_inputs.processor_border_width = +value;
    });
    $("#screen-border-width").on('change', function(e) {
      let value = e.target.value;
      user_inputs.screen_border_width = +value;
    });
    $("#test-pattern-width").on('change', function(e) {
      let value = e.target.value;
      user_inputs.test_pattern_width = +value;
    });
    $("#tile-pixels-wide").on('change', function(e) {
      let value = e.target.value;
      user_inputs.tile_pixels_wide = +value;
    });
    $("#tile-pixels-high").on('change', function(e) {
      let value = e.target.value;
      user_inputs.tile_pixels_high = +value;
    });
    $("#tile-physical-width").on('change', function(e) {
      let value = e.target.value;
      user_inputs.tile_physical_width = +value;
    });
    $("#tile-physical-height").on('change', function(e) {
      let value = e.target.value;
      user_inputs.tile_physical_height = +value;
    });
    $("#processor-width-limit").on('change', function(e) {
      let value = e.target.value;
      user_inputs.processor_width_limit = +value;
    });
    $("#processor-height-limit").on('change', function(e) {
      let value = e.target.value;
      user_inputs.processor_height_limit = +value;
    });
    $("#processor-pixel-limit").on('change', function(e) {
      let value = e.target.value;
      user_inputs.processor_pixel_limit = +value;
    });
    $("#processor-port-limit").on('change', function(e) {
      let value = e.target.value;
      user_inputs.processor_port_limit = +value;
    });
    $("#output-width").on('change', function(e) {
      let value = e.target.value;
      user_inputs.output_width = +value;
    });
    $("#output-height").on('change', function(e) {
      let value = e.target.value;
      user_inputs.output_height = +value;
    });
    $("#offset-x").on('change', function(e) {
      let value = e.target.value;
      user_inputs.offset_x = +value;
    });
    $("#offset-y").on('change', function(e) {
      let value = e.target.value;
      user_inputs.offset_y = +value;
    });

    //dropdowns
    $("#processor-type").on('change', function() {
      user_inputs.processor_type = $('#processor-type :selected').val();
    });
    $("#tile-type").on('change', function() {
      user_inputs.tile_type = $('#tile-type :selected').val();
    });
    $("#output-type").on('change', function() {
      user_inputs.output_type = $('#output-type :selected').val();
    });
    $("#tile-color-option").on('change', function() {
      user_inputs.tile_color_option = $('#tile-color-option :selected').val();
    });
    $("#string-color-option").on('change', function() {
      user_inputs.string_color_option = $('#string-color-option :selected').val();
    });
    $("#processor-sort-style").on('change', function() {
      user_inputs.processor_sort_style = $('#processor-sort-style :selected').val();
    });
    $("#tile-index-color-option").on('change', function() {
      user_inputs.tile_index_color_option = $('#tile-index-color-option :selected').val();
    });

    //radios
    $('input:radio[name=dims]').change(function(e) {
      user_inputs.dims = +this.value;
    });
    $('input:radio[name=tile_color_iterator]').change(function(e) {
      user_inputs.tile_color_iterator = +this.value;
    });
    $('input:radio[name=data_flow]').change(function(e) {
      user_inputs.data_flow = +this.value;
    });
    $('input:radio[name=string_break_option]').change(function(e) {
      user_inputs.string_break_option = +this.value;
    });
    $('input:radio[name=string_color_iterator]').change(function(e) {
      user_inputs.string_color_iterator = +this.value;
    });
    $('input:radio[name=tile_index_option]').change(function(e) {
      user_inputs.tile_index_option = +this.value;
    });
    $('input:radio[name=tile_index_color_iterator]').change(function(e) {
      user_inputs.tile_index_color_iterator = +this.value;
    });
    $('input:radio[name=coord_style]').change(function(e) {
      user_inputs.coord_style = +this.value;
    });
    //$("tile-color-set-1").on('change', function(e) {});
    //$("tile-color-set-2").on('change', function(e) {});

    //booleans
    $("#balance-processor-loads").on('change', function() {
      user_inputs.balance_processor_loads = !user_inputs.balance_processor_loads;
    });
    $("#fit-port-strings-to-screen").on('change', function() {
      user_inputs.fit_port_strings_to_screen = !user_inputs.fit_port_strings_to_screen;
    });
    $("#show-string-icon").on('change', function() {
      user_inputs.show_string_icon = !user_inputs.show_string_icon;
    });
    $("#show-coords").on('change', function() {
      user_inputs.show_coords = !user_inputs.show_coords;
    });
    $("#tile-border").on('change', function() {
      user_inputs.tile_border = !user_inputs.tile_border;
    });
    $("#processor-border").on('change', function() {
      user_inputs.processor_border = !user_inputs.processor_border;
    });
    $("#screen-border").on('change', function() {
      user_inputs.screen_border = !user_inputs.screen_border;
    });
    $("#show-processor-label").on('change', function() {
      user_inputs.show_processor_label = !user_inputs.show_processor_label;
    });
    $("#show-screen-label").on('change', function() {
      user_inputs.show_screen_label = !user_inputs.show_screen_label;
    });
    $("#show-stats").on('change', function() {
      user_inputs.show_stats = !user_inputs.show_stats;
    });
    $("#every-other-pixel").on('change', function() {
      user_inputs.every_other_pixel = !user_inputs.every_other_pixel;
    });
    $("#draw-cross").on('change', function() {
      user_inputs.draw_cross = !user_inputs.draw_cross;
    });
    $("#draw-circle").on('change', function() {
      user_inputs.draw_circle = !user_inputs.draw_circle;
    });
    $("#show-logo").on('change', function() {
      user_inputs.show_logo = !user_inputs.show_logo;
    });
    $("#draw-offsets").on('change', function() {
      user_inputs.draw_offsets = !user_inputs.draw_offsets;
    });
*/






    //event listeners
    //add screen button tries to submit a form unless
    $("#add-screen").click(function(event){
      event.preventDefault();
    });
    $('.user-input').on('change', function(e) {


      //reset output resolution for any change but output_res
      if (e.target.name === "processor_type") {
        //clear out current outputs
        $('#output-type')
          .find('option')
          .remove()
          .end()
          .append('<option value="">Output Resolutions</option>');
        //.val('');
        ;
        //figure out selected processor
        let ptype = $('#processor-type').children("option:selected").val();
        //sort available resolutions in descending order
        let resolutions = processor_types[ptype].resolutions.sort(function(a, b) {
          return b[0] - a[0]
        })
        //load pre-output resolution types based on selected processor
        $.each(resolutions, function(key, value) {
          $('#output-type')
            .append($("<option></option>")
              .attr("value", key)
              .text(value[0] + "x" + value[1]));

        });
        //select a default output option
        $('#output-type option:eq(1)').prop('selected', true);
      };
    });

    //manually trigger userinput listener to update output-type
    $('.user-input').trigger("change");
  </script>
  <script src="js/script.js"></script>
</body>

</html>
